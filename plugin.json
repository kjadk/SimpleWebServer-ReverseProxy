{
  "name": "Reverse Proxy",
  "id": "reverseproxy",
  "script": "script.js",
  "options": [
    {
      "id": "enabled1",
      "name": "Enable Reverse Proxy",
      "description": "Enable or disable the reverse proxy functionality.",
      "type": "bool",
      "default": true
    },
    {
      "id": "routes",
      "name": "Proxy Routes",
      "description": "Proxy route configuration in JSON format (e.g., [{\"path\": \"/api\", \"target\": \"http://localhost:3000\"}])",
      "type": "string",
      "default": "[{\"host\":\"domain.com:3000\", \"path\": \"/api\", \"target\": \"http://localhost:3000\"}]"
    },
	{
    "id": "timeout",
	"name": "Timeout for Upstream Request",
    "description": "Maximum time (in milliseconds) to wait for a response from the proxied backend server before timing out. Default is 30000ms (30 seconds)",
    "type": "string",
    "default": "30000"
    },
    {
      "id": "enableBasicAuth",
      "name": "Enable Basic Authentication",
      "description": "Enable or disable Basic Authentication for proxied routes.",
      "type": "bool",
      "default": false
    },
    {
      "id": "basicAuthUsers",
      "name": "Basic Auth Users (JSON)",
      "description": "Users and passwords for Basic Auth in JSON format (e.g., {\"myuser\":\"mypassword\", \"admin\":\"secret\"}). IMPORTANT: Passwords are in plaintext for this example.",
      "type": "string",
      "default": "{\"username\":\"password\"}"
    },
    {
      "id": "rateLimitConnections",
      "name": "Max Connections (per window)",
      "description": "Maximum number of connections allowed from a single IP address within the specified time window. Set to 0 to disable.",
      "type": "string",
      "default": "0"
    },
    {
      "id": "rateLimitTimeWindowMinutes",
      "name": "Rate Limit Time Window (minutes)",
      "description": "Time window in minutes for rate limiting. Connections are counted within this period. Set to 0 to disable.",
      "type": "string",
      "default": "0"
    },
	{
      "id": "useXForwardedFor",
      "name": "Trust X-Forwarded-For Header",
      "description": "If enabled, the reverse proxy will use the 'X-Forwarded-For' header to determine the client IP, which is useful when behind another proxy or load balancer. Default is false.",
      "type": "bool",
      "default": false
    },
	{
		"id": "preserveHost",
		"name": "Preserve Host Header",
		"description": "If enabled, the original 'Host' header is preserved and forwarded to the upstream server. If disabled, the 'Host' header is set to the target's hostname.",
		"type": "bool",
		"default": false
	},
	{
		"id": "addHeaders",
		"name": "Additional Headers (JSON)",
		"description": "Additional headers to be added to the proxied request in JSON format (e.g., {\"X-Custom-Header\":\"my-value\"}).",
		"type": "string",
		"default": "{}"
	},
	{
		"id": "basicAuthRealm",
		"name": "Basic Auth Realm",
		"description": "The realm name for Basic Authentication. This is the text shown in the browser's login prompt. Default is 'Restricted Area'.",
		"type": "string",
		"default": "Restricted Area"
	}
  ]
}

